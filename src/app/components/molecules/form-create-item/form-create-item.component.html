<div class="form-create" [formGroup]="form">

  <app-loader *ngIf="isLoading"></app-loader>

  <div *ngIf="!isLoading">
  <h1 class="tittle">{{title}}</h1>
  <app-text-component [content]="textName"></app-text-component>
  <app-input
    [placeholder]="placeholder"
    [control]="name"
    [maxLengthTextSpan]=nameValidation
    [requiredTextSpan]=required
    width = 23.5rem
    height = 1rem
    fontSize="0.8rem"
  ></app-input>

  <app-text-component [content]="textDescription"></app-text-component>
  <app-texttarea
    [placeholder]="placeholder"
    [control]="description"
    [maxLengthTextSpan]=descriptionValidation
    [requiredTextSpan]=required
    width = 23.5rem
    height = 3rem
    fontSize="0.9rem"
  ></app-texttarea>

  <app-text-component content="Seleccionar una marca"></app-text-component>
  <select (change)="onBrandChange($event)">
    <option *ngFor="let brand of brands" [value]="brand.id">{{ brand.name }}</option>
  </select>
  <!-- <div *ngIf="form.get('brand')?.invalid && form.get('brand')?.touched">
    Seleccionar una marca es obligatorio.
  </div> -->

  <app-text-component content="Seleccionar cateogorias"></app-text-component>
  <div *ngFor="let category of categories">
    <input
      type="checkbox"
      [value]="category.id"
      (change)="toggleCategorySelection(category.id)"
      [checked]="form.get('categories')?.value.includes(category.id)">
    {{ category.categoryName }}
  </div>

  <app-toast
  *ngIf="showToast"
  [message]=message
  [error] = mistakeOcurred
  ></app-toast>
  <div class="button-container">
    <app-button [content]="contentButton" (action)="onSubmit()" [isDisabled]="isDisabled"></app-button>
  </div>

</div>
</div>
